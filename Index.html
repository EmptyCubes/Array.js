<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Array.js Example</title>

    <script type="text/javascript" src="http://cdn.kodingsykosis.com/jQuery/1.9.1/jQuery.js"></script>
	<script type="text/javascript" src="./Array.js"></script>
</head>
    <body>
        <pre id="output"></pre>
		<script type="text/javascript">
			var output = $('#output');
			var source = [{ Id: 1, Name: 'Item 1' },
						  { Id: 2, Name: 'Item 2' },
						  { Id: 3, Name: 'Item 3' },
						  { Id: 4, Name: 'Item 4' },
						  { Id: 5, Name: 'Item 5' },
						  { Id: 6, Name: 'Item 6' },
						  { Id: 7, Name: 'Item 7' }];

			//
			//Where & OrderByDesc
			//

			var query = 
				source.where('m=>m.Id > 3 && m.Id < 6')
					  .orderByDesc('m=>m.Name');

			output.append('Where & OrderByDesc\n');
			$.each(query, function(i,o) {
				output.append("\tId = " + o.Id + ", Name = " + o.Name + "\n");
			});

			//
			//First
			//

			output.append('\n\nFirst\n')
			var o = source.first('m=>m.Id > 3');
			output.append("\tId = " + o.Id + ", Name = " + o.Name + "\n");

			//
			//First Exception
			//

			output.append('\n\nFirst exception.\n')
			try {
				o = source.first('m=>m.Id > 7');
				output.append("\tId = " + o.Id + ", Name = " + o.Name + "\n");
			} catch(e) {
				output.append('\t' + e + '\n');
			}

			//
			//FirstOrDefault
			//

			output.append('\n\nFirstOrDefault\n');
			o = source.firstOrDefault('m=>m.Id == 8');
			if (o === null) output.append('\tNULL\n');
			else output.append("\tId = " + o.Id + ", Name = " + o.Name + "\n");

			//
			//Skip & Take
			//

			query = source.skip(3)
						  .take(2);

			output.append('\n\nSkip & Take\n');
			$.each(query, function(i,o) {
				output.append("\tId = " + o.Id + ", Name = " + o.Name + "\n");
			});

			//
			//Count
			//

			var i = source.count('m=>m.Id > 4');
			output.append('\n\nCount\n');
			output.append('\t' + i);

			//
			//Any
			//

			output.append('\n\nAny\n');
			output.append('\tm.Id > 4 = ' + source.any('m=>m.Id > 4') + '\n');
			output.append('\tm.Id > 8 = ' + source.any('m=>m.Id > 8') + '\n');


			//
			//Select
			//

			output.append('\n\nSelect\n');
			query = source.select("m=>m.Name");
			$.each(query, function(i,s) {
				output.append("\t" + s + "\n");
			});
		</script>
    </body>
</html>